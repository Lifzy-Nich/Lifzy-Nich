<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLOBAL FLAG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .main-container {
            position: relative;
            z-index: 10;
        }
        
        .glass-card {
            background: linear-gradient(145deg, rgba(20,20,20,0.9), rgba(10,10,10,0.95));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 
                        inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }
        .flag-showcase {
            background: linear-gradient(145deg, rgba(30,30,30,0.8), rgba(15,15,15,0.9));
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.6),
                        inset 0 1px 0 rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .flag-showcase::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255,255,255,0.03) 50%,
                transparent 70%
            );
            transform: rotate(45deg);
            animation: shimmer 6s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .option-btn {
            background: linear-gradient(145deg, rgba(30,30,30,0.8), rgba(20,20,20,0.9));
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            transition: left 0.5s;
        }
        
        .option-btn:hover::before {
            left: 100%;
        }
        
        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: rgba(255, 255, 255, 0.25);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5),
                        inset 0 1px 0 rgba(255,255,255,0.1);
            background: linear-gradient(145deg, rgba(40,40,40,0.9), rgba(25,25,25,0.95));
        }
        
        .option-btn:active:not(:disabled) {
            transform: translateY(0);
        }
        .hint-btn {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        .hint-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            border-color: rgba(255, 255, 255, 0.25);
        }
        
        .hint-box {
            background: linear-gradient(145deg, rgba(35,35,35,0.9), rgba(25,25,25,0.95));
            border: 1px solid rgba(255, 255, 255, 0.12);
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .correct-answer {
            background: linear-gradient(145deg, #166534, #14532d) !important;
            border-color: rgba(74, 222, 128, 0.5) !important;
            box-shadow: 0 0 30px rgba(74, 222, 128, 0.3) !important;
            animation: correctPulse 0.6s ease;
        }
        
        .wrong-answer {
            background: linear-gradient(145deg, #991b1b, #7f1d1d) !important;
            border-color: rgba(248, 113, 113, 0.5) !important;
            animation: shake 0.5s ease;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-8px); }
            40%, 80% { transform: translateX(8px); }
        }
        .title-text {
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        .question-text {
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        
        .next-btn {
            background: linear-gradient(135deg, #262626 0%, #171717 100%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
        }
        
        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.5);
            border-color: rgba(255, 255, 255, 0.25);
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        .glossy-header {
            background: linear-gradient(180deg, rgba(40,40,40,0.6) 0%, rgba(20,20,20,0.8) 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .flag-image {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .flag-image.loaded {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="main-container min-h-screen flex items-center justify-center p-4">
        <div class="glass-card w-full max-w-2xl rounded-[24px] p-6 md:p-10">
            
            <!-- Header dengan nama GLOBAL FLAG -->
            <div class="glossy-header -mt-6 -mx-6 mb-8 px-6 py-5 rounded-t-[24px]">
                <h1 class="text-3xl md:text-4xl font-bold title-text text-center tracking-tight">
                    GLOBAL FLAG
                </h1>
            </div>

            <!-- Flag Display -->
            <div class="flag-showcase rounded-2xl mb-8 aspect-[16/10] flex items-center justify-center p-4">
                <img 
                    id="flag-image"
                    src="" 
                    alt="Bendera" 
                    class="flag-image max-w-full max-h-full object-contain rounded-xl shadow-2xl"
                    style="filter: drop-shadow(0 10px 30px rgba(0,0,0,0.5));"
                >
            </div>

            <!-- Question -->
            <h2 class="text-center text-2xl md:text-3xl font-bold text-white mb-8 question-text">
                Negara mana ini?
            </h2>
            <!-- Hint Section -->
            <button id="hint-btn" class="w-full mb-6 py-4 rounded-xl hint-btn text-white font-semibold text-lg relative z-10 flex items-center justify-center gap-3">
                <i class="fas fa-lightbulb text-yellow-400 text-xl"></i>
                <span id="hint-btn-text">Lihat Petunjuk</span>
            </button>

            <div id="hint-display" class="hint-box hidden mb-6 p-5 rounded-xl">
                <div class="flex items-start gap-3">
                    <i class="fas fa-info-circle text-gray-400 text-xl mt-1"></i>
                    <div>
                        <p class="text-gray-400 text-xs font-semibold uppercase tracking-wider mb-2">Petunjuk</p>
                        <p class="text-gray-200 text-base font-medium leading-relaxed" id="hint-text"></p>
                    </div>
                </div>
            </div>

            <!-- Options Grid -->
            <div class="grid grid-cols-1 gap-3 mb-6" id="options-container">
                <!-- Buttons generated via JS -->
            </div>
            <!-- Feedback -->
            <div id="feedback" class="text-center mb-6 h-16 flex items-center justify-center">
                <p class="text-xl font-semibold opacity-0 transition-all duration-500" id="feedback-text"></p>
            </div>

            <!-- Next Button -->
            <button id="next-btn" class="hidden w-full py-4 rounded-xl next-btn text-white font-semibold text-lg transition-all relative z-10 flex items-center justify-center gap-3">
                <span>Lanjut ke Soal Berikutnya</span>
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script>
        const countries = [
            {c:'id',n:'Indonesia',h:'Negara kepulauan terbesar di dunia dengan lebih dari 17.000 pulau'},
            {c:'us',n:'Amerika Serikat',h:'Negara adidaya dengan ibu kota Washington D.C.'},
            {c:'jp',n:'Jepang',h:'Negeri Sakura dengan teknologi canggih dan Mount Fuji'},
            {c:'kr',n:'Korea Selatan',h:'Negara dengan ibukota Seoul dan budaya K-Pop'},
            {c:'cn',n:'China',h:'Negara dengan populasi terbesar di dunia'},
            {c:'in',n:'India',h:'Negara dengan Taj Mahal dan industri Bollywood'},
            {c:'gb',n:'Inggris',h:'Negara dengan Big Ben dan Royal Family'},
            {c:'de',n:'Jerman',h:'Negara dengan ibukota Berlin dan industri otomotif kuat'},
            {c:'fr',n:'Prancis',h:'Negara dengan Menara Eiffel dan ibukota Paris'},
            {c:'it',n:'Italia',h:'Negara dengan Colosseum dan ibukota Roma'},
            {c:'es',n:'Spanyol',h:'Negara dengan ibukota Madrid dan budaya Flamenco'},
            {c:'br',n:'Brasil',h:'Negara terbesar di Amerika Selatan dengan ibukota Brasilia'},
            {c:'ca',n:'Kanada',h:'Negara terbesar kedua di dunia dengan ibukota Ottawa'},
            {c:'au',n:'Australia',h:'Negara benua dengan ibukota Canberra dan Sydney Opera House'},
            {c:'ru',n:'Rusia',h:'Negara terbesar di dunia dengan ibukota Moskow'},
            {c:'mx',n:'Meksiko',h:'Negara dengan budaya Aztec dan ibukota Mexico City'},
            {c:'za',n:'Afrika Selatan',h:'Negara dengan 3 ibu kota dan Nelson Mandela'},
            {c:'eg',n:'Mesir',h:'Negara dengan Piramida dan Sungai Nil'},
            {c:'ng',n:'Nigeria',h:'Negara terpadat di Afrika dengan ibukota Abuja'},
            {c:'sa',n:'Arab Saudi',h:'Negara dengan kota suci Mekkah dan Madinah'},
            {c:'ae',n:'Uni Emirat Arab',h:'Negara dengan Dubai dan Burj Khalifa'},
            {c:'tr',n:'Turki',h:'Negara yang menghubungkan Eropa dan Asia dengan ibukota Ankara'},
            {c:'gr',n:'Yunani',h:'Negara dengan Athena dan sejarah Yunani kuno'},
            {c:'nl',n:'Belanda',h:'Negara dengan kincir angin dan ibukota Amsterdam'},
            {c:'be',n:'Belgia',h:'Negara dengan ibukota Brussel dan markas NATO'},
            {c:'ch',n:'Swiss',h:'Negara netral dengan ibukota Bern dan pegunungan Alpen'},
            {c:'se',n:'Swedia',h:'Negara Skandinavia dengan ibukota Stockholm'},
            {c:'no',n:'Norwegia',h:'Negara dengan fjord dan ibukota Oslo'},
            {c:'fi',n:'Finlandia',h:'Negara dengan ibukota Helsinki dan Santa Claus'},
            {c:'dk',n:'Denmark',h:'Negara dengan ibukota Kopenhagen dan Lego'},
            {c:'pl',n:'Polandia',h:'Negara dengan ibukota Warsawa dan sejarah Perang Dunia'},
            {c:'ua',n:'Ukraina',h:'Negara dengan ibukota Kiev dan ladang gandum'},
            {c:'pt',n:'Portugal',h:'Negara dengan ibukota Lisboa dan sejarah penjelajahan'},
            {c:'ar',n:'Argentina',h:'Negara dengan tango dan ibukota Buenos Aires'},
            {c:'cl',n:'Chili',h:'Negara panjang di Amerika Selatan dengan ibukota Santiago'},
            {c:'co',n:'Kolombia',h:'Negara dengan ibukota Bogota dan kopi'},
            {c:'pe',n:'Peru',h:'Negara dengan Machu Picchu dan ibukota Lima'},
            {c:'th',n:'Thailand',h:'Negara dengan ibukota Bangkok dan kuil Buddha'},
            {c:'vn',n:'Vietnam',h:'Negara dengan ibukota Hanoi dan Teluk Ha Long'},
            {c:'my',n:'Malaysia',h:'Negara dengan Menara Petronas dan ibukota Kuala Lumpur'},
            {c:'sg',n:'Singapura',h:'Negara kota dengan Merlion dan taman Gardens by the Bay'},
            {c:'ph',n:'Filipina',h:'Negara kepulauan dengan ibukota Manila'},
            {c:'nz',n:'Selandia Baru',h:'Negara dengan ibukota Wellington dan Lord of the Rings'},
            {c:'ie',n:'Irlandia',h:'Negara dengan ibukota Dublin dan shamrock'},
            {c:'at',n:'Austria',h:'Negara dengan ibukota Wina dan musik klasik'},
            {c:'cz',n:'Ceko',h:'Negara dengan ibukota Praha dan kastil'},
            {c:'hu',n:'Hungaria',h:'Negara dengan ibukota Budapest dan Danube'},
            {c:'ro',n:'Romania',h:'Negara dengan ibukota Bucharest dan Transylvania'},
            {c:'il',n:'Israel',h:'Negara dengan Yerusalem dan Tel Aviv'},
            {c:'pk',n:'Pakistan',h:'Negara dengan ibukota Islamabad dan pegunungan'},
            {c:'bd',n:'Bangladesh',h:'Negara dengan ibukota Dhaka dan delta sungai'},
            {c:'lk',n:'Sri Lanka',h:'Negara pulau dengan ibukota Colombo dan teh Ceylon'},
            {c:'mm',n:'Myanmar',h:'Negara dengan ibukota Naypyidaw dan pagoda'},
            {c:'kh',n:'Kamboja',h:'Negara dengan Angkor Wat dan ibukota Phnom Penh'},
            {c:'la',n:'Laos',h:'Negara dengan ibukota Vientiane dan Sungai Mekong'},
            {c:'bn',n:'Brunei',h:'Negara kecil di Borneo dengan ibukota Bandar Seri Begawan'},
            {c:'mn',n:'Mongolia',h:'Negara dengan ibukota Ulaanbaatar dan Genghis Khan'},
            {c:'kz',n:'Kazakhstan',h:'Negara terbesar di Asia Tengah dengan ibukota Astana'},
            {c:'uz',n:'Uzbekistan',h:'Negara dengan Samarkand dan ibukota Tashkent'},
            {c:'iq',n:'Irak',h:'Negara dengan Baghdad dan sejarah Mesopotamia'},
            {c:'ir',n:'Iran',h:'Negara dengan Teheran dan peradaban Persia'},
            {c:'af',n:'Afghanistan',h:'Negara dengan ibukota Kabul dan pegunungan Hindu Kush'},
            {c:'ye',n:'Yaman',h:'Negara dengan ibukota Sanaa dan Laut Merah'},
            {c:'sy',n:'Suriah',h:'Negara dengan Damaskus, salah satu kota tertua di dunia'},
            {c:'jo',n:'Yordania',h:'Negara dengan Petra dan ibukota Amman'},
            {c:'lb',n:'Lebanon',h:'Negara dengan ibukota Beirut dan pegunungan'},
            {c:'kw',n:'Kuwait',h:'Negara kecil di Teluk Persia dengan ibukota Kuwait City'},
            {c:'qa',n:'Qatar',h:'Negara dengan ibukota Doha dan Piala Dunia 2022'},
            {c:'bh',n:'Bahrain',h:'Negara pulau di Teluk Persia dengan ibukota Manama'},
            {c:'om',n:'Oman',h:'Negara dengan ibukota Muscat dan gurun'},
            {c:'ma',n:'Maroko',h:'Negara dengan Marrakech dan ibukota Rabat'},
            {c:'dz',n:'Aljazair',h:'Negara terbesar di Afrika dengan ibukota Algiers'},
            {c:'tn',n:'Tunisia',h:'Negara dengan Carthage dan ibukota Tunis'},
            {c:'ly',n:'Libya',h:'Negara dengan ibukota Tripoli dan Laut Mediterania'},
            {c:'sd',n:'Sudan',h:'Negara dengan ibukota Khartoum dan Sungai Nil'},
            {c:'et',n:'Ethiopia',h:'Negara dengan Addis Ababa dan peradaban kuno'},
            {c:'gh',n:'Ghana',h:'Negara dengan ibukota Accra dan pesisir Emas'},
            {c:'ci',n:'Pantai Gading',h:'Negara dengan ibukota Yamoussoukro dan Abidjan'},
            {c:'sn',n:'Senegal',h:'Negara dengan ibukota Dakar dan pulau Goree'},
            {c:'cm',n:'Kamerun',h:'Negara dengan ibukota Yaounde dan gunung'},
            {c:'cd',n:'Kongo',h:'Negara dengan Kinshasa dan Sungai Kongo'},
            {c:'ao',n:'Angola',h:'Negara dengan ibukota Luanda dan minyak'},
            {c:'mz',n:'Mozambik',h:'Negara dengan ibukota Maputo dan Samudra Hindia'},
            {c:'zw',n:'Zimbabwe',h:'Negara dengan Victoria Falls dan ibukota Harare'},
            {c:'bw',n:'Botswana',h:'Negara dengan ibukota Gaborone dan gurun Kalahari'},
            {c:'na',n:'Namibia',h:'Negara dengan ibukota Windhoek dan gurun Namib'},
            {c:'mg',n:'Madagascar',h:'Negara pulau dengan ibukota Antananarivo dan lemur'},
            {c:'is',n:'Islandia',h:'Negara dengan ibukota Reykjavik dan geyser'},
            {c:'mt',n:'Malta',h:'Negara pulau kecil dengan ibukota Valletta'},
            {c:'cy',n:'Siprus',h:'Negara pulau dengan ibukota Nicosia'},
            {c:'sm',n:'San Marino',h:'Negara terkecil kelima di dunia dengan ibukota San Marino'},
            {c:'va',n:'Vatikan',h:'Negara terkecil di dunia di dalam Roma'},
            {c:'mc',n:'Monako',h:'Negara kecil dengan Monte Carlo dan ibukota Monaco'},
            {c:'li',n:'Liechtenstein',h:'Negara kecil dengan ibukota Vaduz di Alpen'},
            {c:'lu',n:'Luksemburg',h:'Negara kecil dengan ibukota Luxembourg City'},
            {c:'ad',n:'Andorra',h:'Negara kecil di Pyrenees dengan ibukota Andorra la Vella'},
            {c:'me',n:'Montenegro',h:'Negara dengan ibukota Podgorica dan Adriatik'},
            {c:'rs',n:'Serbia',h:'Negara dengan ibukota Belgrade dan Sungai Danube'},
            {c:'ba',n:'Bosnia',h:'Negara dengan ibukota Sarajevo dan Mostar'},
            {c:'hr',n:'Kroasia',h:'Negara dengan ibukota Zagreb dan pantai Adriatik'},
            {c:'si',n:'Slovenia',h:'Negara dengan ibukota Ljubljana dan gua Postojna'},
            {c:'sk',n:'Slovakia',h:'Negara dengan ibukota Bratislava dan pegunungan'},
            {c:'bg',n:'Bulgaria',h:'Negara dengan ibukota Sofia dan mawar'},
            {c:'md',n:'Moldova',h:'Negara dengan ibukota Chisinau dan wine'},
            {c:'by',n:'Belarus',h:'Negara dengan ibukota Minsk dan hutan'},
            {c:'lt',n:'Lituania',h:'Negara dengan ibukota Vilnius dan Baltik'},
            {c:'lv',n:'Latvia',h:'Negara dengan ibukota Riga dan Art Nouveau'},
            {c:'ee',n:'Estonia',h:'Negara dengan ibukota Tallinn dan digital'},
            {c:'ge',n:'Georgia',h:'Negara dengan ibukota Tbilisi dan wine kuno'},
            {c:'am',n:'Armenia',h:'Negara dengan ibukota Yerevan dan Mount Ararat'},
            {c:'az',n:'Azerbaijan',h:'Negara dengan ibukota Baku dan api abadi'},
            {c:'tm',n:'Turkmenistan',h:'Negara dengan ibukota Ashgabat dan gas'},
            {c:'tj',n:'Tajikistan',h:'Negara dengan ibukota Dushanbe dan pegunungan'},
            {c:'kg',n:'Kirgizstan',h:'Negara dengan ibukota Bishkek dan Danau Issyk-Kul'},
            {c:'bt',n:'Bhutan',h:'Negara dengan ibukota Thimphu dan Gross National Happiness'},
            {c:'np',n:'Nepal',h:'Negara dengan Mount Everest dan ibukota Kathmandu'},
            {c:'mv',n:'Maladewa',h:'Negara pulau dengan ibukota Male dan resort'},
            {c:'tl',n:'Timor Leste',h:'Negara termuda di Asia dengan ibukota Dili'},
            {c:'pg',n:'Papua Nugini',h:'Negara dengan ibukota Port Moresby dan budaya'},
            {c:'fj',n:'Fiji',h:'Negara pulau dengan ibukota Suva dan resort'},
            {c:'sb',n:'Kep. Solomon',h:'Negara dengan ibukota Honiara dan Perang Dunia II'},
            {c:'vu',n:'Vanuatu',h:'Negara dengan ibukota Port Vila dan gunung berapi'},
            {c:'nc',n:'Kaledonia Baru',h:'Territory Prancis dengan ibukota Noumea'},
            {c:'pf',n:'Polinesia Prancis',h:'Territory dengan Tahiti dan ibukota Papeete'},
            {c:'ws',n:'Samoa',h:'Negara dengan ibukota Apia dan budaya Polinesia'},
            {c:'to',n:'Tonga',h:'Negara dengan ibukota Nukualofa dan kerajaan'},
            {c:'ki',n:'Kiribati',h:'Negara dengan ibukota Tarawa dan garis khatulistiwa'},
            {c:'tv',n:'Tuvalu',h:'Negara terkecil kedua dengan ibukota Funafuti'},
            {c:'nr',n:'Nauru',h:'Negara terkecil ketiga dengan ibukota Yaren'},
            {c:'pw',n:'Palau',h:'Negara dengan ibukota Ngerulmud dan diving'},
            {c:'fm',n:'Mikronesia',h:'Negara dengan ibukota Palikir dan atol'},
            {c:'mh',n:'Kep. Marshall',h:'Negara dengan ibukota Majuro dan atol'},
            {c:'py',n:'Paraguay',h:'Negara dengan ibukota Asuncion dan Guarani'},
            {c:'uy',n:'Uruguay',h:'Negara dengan ibukota Montevideo dan tango'},
            {c:'gy',n:'Guyana',h:'Negara dengan ibukota Georgetown dan air terjun'},
            {c:'sr',n:'Suriname',h:'Negara dengan ibukota Paramaribo dan hutan'},
            {c:'gf',n:'Guyana Prancis',h:'Territory Prancis dengan ibukota Cayenne'},
            {c:'bo',n:'Bolivia',h:'Negara dengan La Paz dan Sucre sebagai ibu kota'},
            {c:'ec',n:'Ekuador',h:'Negara dengan ibukota Quito dan Galapagos'},
            {c:'pa',n:'Panama',h:'Negara dengan Terusan Panama dan ibukota Panama City'},
            {c:'cr',n:'Kosta Rika',h:'Negara dengan ibukota San Jose dan pura vida'},
            {c:'ni',n:'Nikaragua',h:'Negara dengan ibukota Managua dan danau'},
            {c:'hn',n:'Honduras',h:'Negara dengan ibukota Tegucigalpa dan Maya'},
            {c:'sv',n:'El Salvador',h:'Negara dengan ibukota San Salvador dan surf'},
            {c:'gt',n:'Guatemala',h:'Negara dengan ibukota Guatemala City dan Maya'},
            {c:'bz',n:'Belize',h:'Negara dengan ibukota Belmopan dan barrier reef'},
            {c:'cu',n:'Kuba',h:'Negara dengan Havana dan revolusi'},
            {c:'jm',n:'Jamaika',h:'Negara dengan Kingston dan reggae'},
            {c:'ht',n:'Haiti',h:'Negara dengan Port-au-Prince dan revolusi'},
            {c:'do',n:'Republik Dominika',h:'Negara dengan Santo Domingo dan baseball'},
            {c:'pr',n:'Puerto Riko',h:'Territory AS dengan San Juan dan salsa'},
            {c:'tt',n:'Trinidad & Tobago',h:'Negara dengan Port of Spain dan carnival'},
            {c:'bb',n:'Barbados',h:'Negara dengan Bridgetown dan Rihanna'},
            {c:'gd',n:'Grenada',h:'Negara dengan St. George dan pala'},
            {c:'vc',n:'St. Vincent',h:'Negara dengan Kingstown dan volcano'},
            {c:'lc',n:'St. Lucia',h:'Negara dengan Castries dan Pitons'},
            {c:'dm',n:'Dominika',h:'Negara dengan Roseau dan nature island'},
            {c:'ag',n:'Antigua',h:'Negara dengan St. Johns dan 365 pantai'},
            {c:'kn',n:'St. Kitts',h:'Negara dengan Basseterre dan gula'},
            {c:'bs',n:'Bahama',h:'Negara dengan Nassau dan pantai'},
            {c:'bm',n:'Bermuda',h:'Territory dengan Hamilton dan segitiga'},
            {c:'ky',n:'Kep. Cayman',h:'Territory dengan George Town dan diving'},
            {c:'tc',n:'Kep. Turks & Caicos',h:'Territory dengan Cockburn Town'},
            {c:'vi',n:'Kep. Virgin AS',h:'Territory AS dengan Charlotte Amalie'},
            {c:'vg',n:'Kep. Virgin Inggris',h:'Territory dengan Road Town'},
            {c:'ai',n:'Anguilla',h:'Territory dengan The Valley'},
            {c:'ms',n:'Montserrat',h:'Territory dengan Plymouth'},
            {c:'gp',n:'Guadeloupe',h:'Territory Prancis dengan Basse-Terre'},
            {c:'mq',n:'Martinique',h:'Territory Prancis dengan Fort-de-France'},
            {c:'aw',n:'Aruba',h:'Negara dengan Oranjestad dan pantai'},
            {c:'cw',n:'Curacao',h:'Negara dengan Willemstad dan warna'},
            {c:'sx',n:'Sint Maarten',h:'Negara dengan Philipsburg'},
            {c:'fk',n:'Kep. Falkland',h:'Territory dengan Stanley'},
            {c:'gs',n:'Georgia Selatan',h:'Territory dengan King Edward Point'},
            {c:'sh',n:'St. Helena',h:'Territory dengan Jamestown'},
            {c:'io',n:'Wilayah Samudra Hindia',h:'Territory Inggris'},
            {c:'tf',n:'Wilayah Selatan Prancis',h:'Territory Prancis'},
            {c:'bv',n:'Kep. Bouvet',h:'Territory Norwegia'},
            {c:'aq',n:'Antartika',h:'Benua es dengan penelitian'},
            {c:'ps',n:'Palestina',h:'Negara dengan Ramallah dan sejarah'},
            {c:'xk',n:'Kosovo',h:'Negara dengan Pristina dan sejarah'}
        ];

        let currentQuestion = 0;
        let score = 0;
        let currentCountry = null;
        let isAnswered = false;
        let hintUsed = false;
        let availableCountries = [...countries];
        let isLoading = false;

        const flagImg = document.getElementById('flag-image');
        const optionsContainer = document.getElementById('options-container');
        const nextBtn = document.getElementById('next-btn');
        const feedbackText = document.getElementById('feedback-text');
        const hintBtn = document.getElementById('hint-btn');
        const hintDisplay = document.getElementById('hint-display');
        const hintText = document.getElementById('hint-text');
        const hintBtnText = document.getElementById('hint-btn-text');
        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function loadQuestion() {
            if (isLoading) return;
            isLoading = true;
            
            if (availableCountries.length === 0) {
                availableCountries = [...countries];
            }
            
            isAnswered = false;
            hintUsed = false;
            nextBtn.classList.add('hidden');
            feedbackText.style.opacity = '0';
            hintDisplay.classList.add('hidden');
            hintBtn.disabled = false;
            hintBtnText.innerText = 'Lihat Petunjuk';
            hintBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            optionsContainer.innerHTML = '';
            
            // Reset flag image
            flagImg.classList.remove('loaded');
            flagImg.style.opacity = '0';
            
            currentCountry = availableCountries[Math.floor(Math.random() * availableCountries.length)];
            
            let options = [currentCountry];
            let wrongOptions = countries.filter(c => c.c !== currentCountry.c);
            wrongOptions = shuffle(wrongOptions).slice(0, 3);
            options = options.concat(wrongOptions);
            options = shuffle(options);
            // Load image dengan proper handling
            const tempImg = new Image();
            tempImg.onload = function() {
                flagImg.src = this.src;
                flagImg.classList.add('loaded');
                flagImg.style.opacity = '1';
                isLoading = false;
            };
            tempImg.onerror = function() {
                console.error('Failed to load flag:', currentCountry.c);
                isLoading = false;
            };
            tempImg.src = `https://flagcdn.com/w640/${currentCountry.c}.png`;
            
            options.forEach((country, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn py-4 px-6 rounded-xl text-white font-medium text-left fade-in';
                btn.style.animationDelay = `${index * 0.1}s`;
                btn.innerHTML = `
                    <span class="inline-block w-7 h-7 rounded-lg bg-white/10 text-center leading-7 mr-3 text-sm font-semibold">${String.fromCharCode(65 + index)}</span>
                    ${country.n}
                `;
                btn.onclick = () => checkAnswer(btn, country);
                optionsContainer.appendChild(btn);
            });
        }
        function checkAnswer(btn, selected) {
            if (isAnswered || isLoading) return;
            isAnswered = true;
            hintBtn.disabled = true;
            hintBtn.classList.add('opacity-50', 'cursor-not-allowed');
            
            const buttons = optionsContainer.querySelectorAll('button');
            buttons.forEach(b => b.disabled = true);
            
            if (selected.c === currentCountry.c) {
                btn.classList.add('correct-answer');
                const points = hintUsed ? 5 : 10;
                score += points;
                feedbackText.innerHTML = '<span class="text-green-400"><i class="fas fa-check-circle mr-2"></i>Benar! +' + points + ' poin</span>';
                
                // Remove from available countries jika benar
                availableCountries = availableCountries.filter(c => c.c !== currentCountry.c);
                
                // Auto next setelah 1.5 detik
                setTimeout(() => {
                    currentQuestion++;
                    loadQuestion();
                }, 1500);
                } else {
                btn.classList.add('wrong-answer');
                buttons.forEach(b => {
                    if (b.innerText.includes(currentCountry.n)) {
                        b.classList.add('correct-answer');
                    }
                });
                feedbackText.innerHTML = '<span class="text-red-400"><i class="fas fa-times-circle mr-2"></i>Salah! Jawabannya: ' + currentCountry.n + '</span>';
                
                // Tetap di available countries jika salah (tidak dihapus)
                // Auto next setelah 2 detik
                setTimeout(() => {
                    currentQuestion++;
                    loadQuestion();
                }, 2000);
            }
            
            feedbackText.style.opacity = '1';
        }
        hintBtn.addEventListener('click', () => {
            if (hintUsed || isAnswered || isLoading) return;
            hintUsed = true;
            hintText.innerText = currentCountry.h;
            hintDisplay.classList.remove('hidden');
            hintBtnText.innerText = 'Petunjuk Sudah Ditampilkan';
            hintBtn.disabled = true;
            hintBtn.classList.add('opacity-50', 'cursor-not-allowed');
        });

        nextBtn.addEventListener('click', () => {
            if (!isLoading) {
                currentQuestion++;
                loadQuestion();
            }
        });

        // Initial load
        window.addEventListener('load', () => {
            loadQuestion();
        });
    </script>
</body>
</html>
