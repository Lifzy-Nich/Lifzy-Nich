<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduPlay Ultimate: 1000+ Tebakan</title>
    <style>
        :root { --p: #4834d4; --s: #686de0; --t: #f0932b; --bg: #f6f9fc; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; align-items: center; }
        .nav { background: var(--p); color: white; width: 100%; padding: 15px 0; text-align: center; font-weight: bold; font-size: 1.2rem; }
        .card { max-width: 500px; width: 90%; background: white; margin: 20px; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center; }
        .mode-btn { border: 2px solid var(--p); background: none; color: var(--p); padding: 8px 15px; border-radius: 20px; cursor: pointer; margin: 5px; font-weight: 600; }
        .mode-btn.active { background: var(--p); color: white; }
        .img-box { width: 100%; height: 200px; border-radius: 15px; margin: 20px 0; overflow: hidden; background: #eee; display: flex; align-items: center; justify-content: center; border: 1px solid #ddd; }
        #target-img { width: 100%; height: 100%; object-fit: contain; }
        input { width: 85%; padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 1rem; margin-bottom: 15px; outline: none; }
        input:focus { border-color: var(--p); }
        .btn-group { display: flex; gap: 8px; justify-content: center; }
        .btn-check { background: #2ecc71; color: white; flex: 2; padding: 12px; }
        .btn-hint { background: var(--t); color: white; flex: 1; padding: 12px; }
        .score-board { margin-top: 20px; font-size: 0.9rem; color: #666; display: flex; justify-content: space-between; }
    </style>
</head>
<body>

<div class="nav">EduPlay Global Explorer üåçü¶Å</div>

<div class="card">
    <div id="loading">Memuat data...</div>
    <div id="game-ui" style="display:none;">
        <div id="modes">
            <button class="mode-btn active" onclick="changeMode('flag', this)">195 Bendera</button>
            <button class="mode-btn" onclick="changeMode('animal', this)">1000+ Hewan</button>
        </div>
        
        <p id="hint-text" style="font-size: 0.8rem; color: var(--p); margin-top: 10px; font-style: italic;"></p>
        <div class="img-box"><img id="target-img" src="" alt="Soal"></div>
        
        <input type="text" id="ans" placeholder="Jawaban kamu..." onkeypress="if(event.key==='Enter') check()">
        
        <div class="btn-group">
            <button class="btn-check" onclick="check()">Cek Jawaban</button>
            <button class="btn-hint" onclick="getHint()">Hint</button>
            <button onclick="loadQuestion()" style="background:#bdc3c7; color:white; border-radius:8px; border:none; padding:12px;">Skip</button>
        </div>
        <div class="score-board"><span>Skor: <b id="score">0</b></span><span>Sisa: <b id="rem">0</b></span></div>
    </div>
</div>

<script>
    let countries = [], animals = [], current = {}, mode = 'flag', score = 0;
    // Daftar dasar hewan untuk ditarik gambarnya secara acak (bisa ditambah hingga 1000+)
    const animalNames = ['Lion', 'Elephant', 'Shark', 'Giraffe', 'Owl', 'Tiger', 'Whale', 'Eagle', 'Kangaroo', 'Panda', 'Zebra', 'Wolf', 'Dolphin', 'Octopus', 'Snake', 'Monkey', 'Crocodile', 'Penguin', 'Koala', 'Rhino', 'Cheetah', 'Bear', 'Camel', 'Deer', 'Horse'];

    async function init() {
        try {
            const res = await fetch('https://restcountries.com/v3.1/all?fields=name,flags,continents');
            const data = await res.json();
            countries = data.map(c => ({n: c.name.common, i: c.flags.png, h: "Benua: " + c.continents[0]}));
            document.getElementById('loading').style.display = 'none';
            document.getElementById('game-ui').style.display = 'block';
            loadQuestion();
        } catch(e) { alert("Gagal memuat data. Periksa internet."); }
    }

    function changeMode(m, btn) {
        mode = m;
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        loadQuestion();
    }

    function loadQuestion() {
        if(mode === 'flag') {
            current = countries[Math.floor(Math.random() * countries.length)];
        } else {
            let name = animalNames[Math.floor(Math.random() * animalNames.length)];
            current = {n: name, i: `https://source.unsplash.com/featured/?${name},animal`, h: "Hewan ini berawal dari huruf " + name[0]};
        }
        document.getElementById('target-img').src = current.i;
        document.getElementById('ans').value = '';
        document.getElementById('hint-text').innerText = '';
        document.getElementById('rem').innerText = (mode === 'flag' ? countries.length : '1000+');
    }

    function check() {
        const user = document.getElementById('ans').value.toLowerCase().trim();
        const target = current.n.toLowerCase();
        if(user === target) {
            score += 10;
            document.getElementById('score').innerText = score;
            alert("Benar! üéâ"); loadQuestion();
        } else { alert("Salah! Coba lagi atau gunakan Hint."); }
    }

    function getHint() {
        document.getElementById('hint-text').innerText = "üí° " + current.h;
    }

    init();
</script>
</body>
</html>
